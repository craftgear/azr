.reader{width:100%;height:100%;overflow:auto;box-sizing:border-box;transition:background-color .3s,color .3s}.reader-light{color:#333}.reader-dark{color:#e0e0e0}.reader-horizontal{writing-mode:horizontal-tb}.reader-horizontal .reader-content{max-width:800px;margin:0 auto;height:100%}.reader-vertical{writing-mode:vertical-rl;text-orientation:upright;height:100%;overflow-x:auto;overflow-y:hidden;box-sizing:border-box}.reader-vertical .reader-content{height:100%;min-width:100%}.reader-vertical{text-combine-upright:none}.reader-vertical .dash-line{display:inline-block;writing-mode:horizontal-tb;text-orientation:mixed;transform:rotate(90deg);margin:.5em 0 .75em .25em;line-height:1;letter-spacing:-.18em}ruby{ruby-align:center}ruby rt{font-size:.5em;font-weight:400;margin-left:-.4em}.ruby-small ruby rt{font-size:.35em}.ruby-normal ruby rt{font-size:.5em}.ruby-large ruby rt{font-size:.7em}.reader-vertical ruby{ruby-position:over}.reader h1{font-size:2em;margin:1em 0;font-weight:700}.reader h2{font-size:1.5em;margin:.8em 0;font-weight:700}.reader h3{font-size:1.3em;margin:.7em 0;font-weight:700}.reader h4,.reader h5,.reader h6{font-size:1.1em;margin:.5em 0;font-weight:700}.emphasis{font-weight:700}.emphasis-1{text-decoration:underline}.emphasis-2{background-color:#ffff004d}.emphasis-3{border:1px solid currentColor;padding:0 .2em}.reader-empty{display:flex;justify-content:center;align-items:center;height:100%;color:#999;font-size:1.2em}.reader::-webkit-scrollbar{width:0;height:0;display:none}.reader{width:100%;height:100%;position:relative;scrollbar-width:none;-ms-overflow-style:none}.emphasis-dots{position:relative;text-emphasis:"﹅";text-emphasis-position:over right;-webkit-text-emphasis:"﹅";-webkit-text-emphasis-position:over right;font-size:1em}.reader-vertical .emphasis-dots{text-emphasis-position:over right;-webkit-text-emphasis-position:over right;text-emphasis:"﹅";-webkit-text-emphasis:"﹅"}.reader-horizontal .emphasis-dots{text-emphasis-position:over;-webkit-text-emphasis-position:over;text-emphasis:"﹅";-webkit-text-emphasis:"﹅"}.text-size-small{font-size:.85em}.text-size-large{font-size:1.2em}.heading-large{font-size:1.8em;font-weight:700;margin:1.5em 0;text-align:center}.heading-medium{font-size:1.4em;font-weight:700;margin:1.2em 0;text-align:center}.heading-small{font-size:1.2em;font-weight:700;margin:1em 0}.reader-vertical .heading-large,.reader-vertical .heading-medium,.reader-vertical .heading-small{text-align:inherit;margin:0 1em}.block-indent{display:block;margin:.5em 0}.reader-vertical .block-indent{margin:0;padding-top:var(--indent-size, 2em);padding-left:0}.special-char{cursor:help;border-bottom:1px dotted currentColor;position:relative}.special-char:hover:after{content:attr(title);position:absolute;bottom:100%;left:50%;transform:translate(-50%);padding:4px 8px;background:#000c;color:#fff;font-size:.9em;white-space:nowrap;border-radius:4px;pointer-events:none;z-index:1000}.reader-dark .special-char:hover:after{background:#ffffffe6;color:#000}.page{width:100%;height:100%;box-sizing:border-box;position:absolute;top:0;left:0;justify-content:center;align-items:center;display:flex;opacity:0;transition:opacity .3s ease-in-out,transform .3s ease-in-out;pointer-events:none}.reader.fast-navigating .page{transition:none}.reader.fast-navigating .page-content-wrapper{opacity:.3;filter:brightness(.5);transition:opacity .1s ease-out,filter .1s ease-out}.reader:not(.fast-navigating) .page-content-wrapper{opacity:1;filter:brightness(1);transition:opacity .2s ease-in,filter .2s ease-in}.reader-horizontal .page{flex-direction:column}.reader-horizontal .page-next{transform:translateY(100%)}.reader-horizontal .page-prev{transform:translateY(-100%)}.reader-vertical .page{flex-direction:row-reverse}.reader-vertical .page-next{transform:translate(-100%)}.reader-vertical .page-prev{transform:translate(100%)}.page-current{opacity:1;transform:translate(0);pointer-events:auto}.page-content-wrapper{max-width:100%;max-height:100%}.reader-vertical .page-content-wrapper{writing-mode:vertical-rl;text-orientation:upright;height:100%}.reader-horizontal .page-content-wrapper{writing-mode:horizontal-tb;width:100%}.page-info{position:fixed;bottom:20px;right:20px;background:#0009;color:#fff;padding:8px 16px;border-radius:20px;font-size:14px;font-family:monospace;z-index:1000;pointer-events:none;-webkit-user-select:none;user-select:none}.reader-dark~.page-info{background:#ffffff1a;border:1px solid rgba(255,255,255,.3)}.reader-pagination{width:100%;height:100vh;position:relative;display:flex;flex-direction:column}.page-navigation{position:fixed;bottom:20px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:20px;background:#000000b3;color:#fff;padding:10px 20px;border-radius:25px;z-index:1000;transition:transform .3s ease-in-out,opacity .3s ease-in-out}.page-navigation.nav-visible{transform:translate(-50%) translateY(0);opacity:1}.page-navigation.nav-hidden{transform:translate(-50%) translateY(100px);opacity:0;pointer-events:none}.page-nav-button{background:transparent;border:1px solid rgba(255,255,255,.5);color:#fff;font-size:18px;width:40px;height:40px;border-radius:50%;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center}.page-nav-button:hover:not(:disabled){background:#fff3;border-color:#fff}.page-nav-button:disabled{opacity:.3;cursor:not-allowed}.page-indicator{font-size:14px;min-width:80px;text-align:center}.dimensions-label{position:fixed;bottom:20px;right:20px;background:#000000b3;color:#fff;padding:8px 12px;border-radius:6px;font-size:14px;font-family:monospace;z-index:1000;pointer-events:none;-webkit-user-select:none;user-select:none;transition:opacity .3s ease}.reader-dark~.dimensions-label{background:#ffffff1a;border:1px solid rgba(255,255,255,.3)}.file-upload-container{width:100%;max-width:500px;margin:0 auto}.file-upload-dropzone{border:2px dashed #ccc;border-radius:8px;padding:3rem 2rem;text-align:center;cursor:pointer;transition:all .3s ease;background-color:#fafafa}.file-upload-dropzone:hover{border-color:#4a90e2;background-color:#f0f7ff}.file-upload-dropzone:focus{outline:2px solid #4a90e2;outline-offset:2px}.file-upload-dropzone.disabled{opacity:.5;cursor:not-allowed}.file-upload-dropzone.disabled:hover{border-color:#ccc;background-color:#fafafa}.file-upload-icon{color:#4a90e2;margin-bottom:1rem}.file-upload-text{font-size:1.1rem;color:#333;margin-bottom:.5rem;line-height:1.6}.file-upload-hint{font-size:.9rem;color:#666;margin:0}.file-upload-input{display:none}.file-upload-dropzone.dragging{border-color:#4a90e2;background-color:#e6f2ff;transform:scale(1.02)}@media (prefers-color-scheme: dark){.file-upload-dropzone{background-color:#2a2a2a;border-color:#555}.file-upload-dropzone:hover{background-color:#333;border-color:#6ba3f5}.file-upload-text{color:#e0e0e0}.file-upload-hint{color:#aaa}}.settings-overlay{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.settings-panel{background:#fff;border-radius:12px;width:90%;max-width:400px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #00000026;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.settings-header h2{margin:0;font-size:1.3rem;color:#333}.settings-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s}.settings-close:hover{background-color:#f0f0f0}.settings-content{padding:1.5rem}.settings-group{margin-bottom:2rem}.settings-group:last-child{margin-bottom:0}.settings-label{display:block;margin-bottom:.75rem;font-weight:500;color:#333;font-size:.95rem}.settings-radio-group{display:flex;gap:1rem}.settings-radio{display:flex;align-items:center;cursor:pointer;padding:.5rem 1rem;border:1px solid #d0d0d0;border-radius:6px;transition:all .2s;flex:1}.settings-radio:hover{background-color:#f8f8f8}.settings-radio input[type=radio]{margin-right:.5rem}.settings-radio input[type=radio]:checked+span{font-weight:500}.settings-slider{width:100%;-webkit-appearance:none;appearance:none;height:6px;border-radius:3px;background:#e0e0e0;outline:none;transition:background .2s}.settings-slider:hover{background:#d0d0d0}.settings-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#4a90e2;cursor:pointer;transition:background .2s}.settings-slider::-webkit-slider-thumb:hover{background:#357abd}.settings-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#4a90e2;cursor:pointer;transition:background .2s}.settings-slider::-moz-range-thumb:hover{background:#357abd}@media (prefers-color-scheme: dark){.settings-panel{background:#2a2a2a;color:#e0e0e0}.settings-header{border-bottom-color:#444}.settings-header h2{color:#e0e0e0}.settings-close{color:#aaa}.settings-close:hover{background-color:#333}.settings-label{color:#e0e0e0}.settings-radio{border-color:#555}.settings-radio:hover{background-color:#333}.settings-slider{background:#444}.settings-slider:hover{background:#555}}.library-modal{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.library-container{background:#fff;border-radius:8px;width:90%;max-width:1200px;height:80vh;display:flex;flex-direction:column;box-shadow:0 4px 20px #00000026}.library-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #e0e0e0}.library-header h2{margin:0;font-size:1.5rem}.library-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;padding:.5rem}.library-close:hover{color:#000}.library-controls{display:flex;gap:1rem;padding:1rem 1.5rem;border-bottom:1px solid #e0e0e0;align-items:center}.library-search{flex:1;padding:.5rem 1rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.library-sort{display:flex;gap:.5rem;align-items:center}.library-sort select{padding:.5rem;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer}.library-sort-order{padding:.5rem .75rem;border:1px solid #ddd;border-radius:4px;background:#fff;cursor:pointer;font-size:1.2rem}.library-sort-order:hover{background:#f5f5f5}.library-view-toggle{display:flex;gap:.25rem}.library-view-toggle button{padding:.5rem .75rem;border:1px solid #ddd;background:#fff;cursor:pointer;font-size:1.2rem}.library-view-toggle button:first-child{border-radius:4px 0 0 4px}.library-view-toggle button:last-child{border-radius:0 4px 4px 0;border-left:none}.library-view-toggle button.active{background:#007bff;color:#fff}.library-books{flex:1;overflow-y:auto;padding:1.5rem}.library-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem}.library-grid .library-book{position:relative;border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;cursor:pointer;transition:all .3s;background:#fff}.library-grid .library-book:hover{transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.library-book-thumbnail{position:relative;background:#f5f5f5;height:150px;overflow:hidden}.library-book-preview{padding:1rem;font-size:.75rem;line-height:1.4;color:#666;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:6;-webkit-box-orient:vertical}.library-book-progress{position:absolute;bottom:0;left:0;right:0;height:4px;background:#e0e0e0}.library-book-progress-bar{height:100%;background:#4caf50;transition:width .3s}.library-book-info{padding:1rem}.library-book-title{margin:0 0 .5rem;font-size:1rem;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.library-book-author{margin:0 0 .5rem;font-size:.875rem;color:#666;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.library-book-date{margin:0;font-size:.75rem;color:#999}.library-book-delete{position:absolute;top:.5rem;right:.5rem;background:#fff;border:1px solid #ddd;border-radius:4px;padding:.25rem .5rem;cursor:pointer;opacity:0;transition:opacity .3s}.library-book:hover .library-book-delete{opacity:1}.library-book-delete:hover{background:#ff5252;color:#fff;border-color:#ff5252}.library-list{display:flex;flex-direction:column;gap:.5rem}.library-list .library-book{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;transition:background .2s}.library-list .library-book:hover{background:#f5f5f5}.library-book-list-info{flex:1;display:flex;align-items:baseline;gap:1rem;min-width:0}.library-list .library-book-title{margin:0;font-size:1rem;font-weight:400;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.library-list .library-book-author{font-size:.875rem;color:#666;flex-shrink:0}.library-book-list-meta{display:flex;align-items:center;gap:1rem}.library-book-progress-text{font-size:.875rem;color:#666;min-width:3rem;text-align:right}.library-loading,.library-empty{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#666}.library-empty-hint{font-size:.875rem;color:#999;margin-top:.5rem}.library-footer{padding:1rem 1.5rem;border-top:1px solid #e0e0e0;text-align:center;color:#666;font-size:.875rem}.library-footer p{margin:0}.app-dark .library-container{background:#1a1a1a;color:#e0e0e0}.app-dark .library-header,.app-dark .library-controls,.app-dark .library-footer{border-color:#333}.app-dark .library-search,.app-dark .library-sort select,.app-dark .library-sort-order,.app-dark .library-view-toggle button{background:#2a2a2a;border-color:#444;color:#e0e0e0}.app-dark .library-view-toggle button.active{background:#007bff}.app-dark .library-book{background:#2a2a2a;border-color:#444}.app-dark .library-book-thumbnail{background:#1a1a1a}.app-dark .library-book-preview,.app-dark .library-book-author,.app-dark .library-book-date,.app-dark .library-book-progress-text{color:#999}.app-dark .library-book-delete{background:#2a2a2a;border-color:#444;color:#e0e0e0}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Hiragino Sans,Hiragino Kaku Gothic ProN,Yu Gothic,Meiryo,sans-serif}.app{display:flex;flex-direction:column;height:100vh;transition:background-color .3s,color .3s}.app-light{background-color:#f5f5f5;color:#333}.app-dark{background-color:#1a1a1a;color:#e0e0e0}.app-header{position:fixed;top:0;left:0;right:0;z-index:1000;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#4a90e2;color:#fff;box-shadow:0 2px 4px #0000001a;transition:transform .3s ease-in-out,opacity .3s ease-in-out}.app-header.header-visible{transform:translateY(0);opacity:1}.app-header.header-hidden{transform:translateY(-100%);opacity:0;pointer-events:none}.app-dark .app-header{background-color:#2c5282}.app-title{font-size:1.8rem;font-weight:700;flex:1;margin-right:2rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.2);min-height:1.8rem;display:flex;align-items:center}.app-header-actions{display:flex;gap:1rem}.app-button{padding:.5rem 1rem;background-color:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:6px;cursor:pointer;font-size:.95rem;transition:background-color .2s}.app-button:hover{background-color:#ffffff4d}.app-main{flex:1;overflow:hidden;position:relative;box-sizing:border-box}.app-upload{display:flex;justify-content:center;align-items:center;height:100%;padding:2rem}.app-loading{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100%;font-size:1.2rem;color:#666}.pagination-progress{display:flex;flex-direction:column;align-items:center;gap:10px;width:300px}.progress-bar{width:100%;height:20px;background-color:#e0e0e0;border-radius:10px;overflow:hidden}.progress-fill{height:100%;background-color:#4caf50;transition:width .3s ease}.app-dark .app-loading{color:#aaa}.app-error{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#f44;color:#fff;padding:1.5rem 2rem;border-radius:8px;box-shadow:0 4px 12px #0003;text-align:center;z-index:100}.app-error p{margin-bottom:1rem}.app-error button{padding:.5rem 1rem;background-color:#fff;color:#f44;border:none;border-radius:4px;cursor:pointer;font-weight:500}.app-error button:hover{background-color:#f0f0f0}@media (max-width: 768px){.app-header{padding:1rem}.app-title{font-size:1.2rem}.app-button{padding:.4rem .8rem;font-size:.9rem}}
